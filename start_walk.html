<!doctype html>
<html lang="he" dir="rtl">
<head>
  <!-- הגדרות בסיסיות: קידוד, רספונסיביות וכותרת הדף -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DogCare | התחלת טיול</title>

  <!-- Bootstrap: שימוש ב-grid, כפתורים וריווחים -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- קובץ CSS ייעודי למסך התחלת טיול (הקובץ נמצא בתיקיית css) -->
  <link rel="stylesheet" href="start_walk.css">
</head>

<body class="app-bg">

<!-- Header עליון: לוגו + קישור יחיד פעיל לדף הבית -->
<header class="site-header">
  <div class="container py-3 d-flex align-items-center justify-content-between">
    <h1 class="h4 m-0">🐶 DogCare</h1>

    <!-- קישור פעיל יחיד: חזרה לדף הבית -->
    <a href="index.html" class="btn btn-outline-secondary btn-sm">חזרה לדף הבית</a>
  </div>
</header>

<!-- תוכן מרכזי של הדף -->
<main class="container my-4">

  <!-- אזור ראשי: כותרת, הסבר וכפתורי שליטה בטיול -->
  <section class="hero-section">
    <div class="row align-items-center g-4">

      <!-- צד שמאל: טקסט וכפתורי התחלה/סיום -->
      <div class="col-12 col-lg-8">
        <h2 class="h3">התחלת טיול 🚶‍♀️</h2>
        <p class="text-muted mb-3">
          לחצו על “התחל טיול” והטיימר יתחיל לרוץ.
        </p>

        <!-- כפתורי שליטה בטיול -->
        <div class="d-flex gap-2 flex-wrap">
          <!-- מפעיל את הטיימר -->
          <button type="button" class="btn btn-primary" id="btnStartWalk">
            התחל טיול
          </button>

          <!-- עוצר את הטיימר (פעיל רק בזמן טיול) -->
          <button type="button" class="btn btn-outline-primary" id="btnEndWalk" disabled>
            סיים טיול
          </button>

          <!-- קיצור דרך נוסף לדף הבית -->
          <a href="../index.html" class="btn btn-outline-secondary">
            דף הבית
          </a>
        </div>

        <!-- טופס נסתר לשליחה ל-PHP (POST) לצורך שמירה ב-DB -->
        <form id="walkForm" method="post" action="add_action.php" class="d-none">
          <!-- סוג פעולה קבוע: walk -->
          <input type="hidden" name="action_type" id="postActionType" value="walk">

          <!-- משך הטיול בשניות -->
          <input type="hidden" name="duration_seconds" id="postDurationSeconds" value="0">

          <!-- משך הטיול בפורמט mm:ss (לוג/נוחות) -->
          <input type="hidden" name="duration_text" id="postDurationText" value="00:00">

          <!-- מטרה שנבחרה -->
          <input type="hidden" name="goal" id="postGoal" value="">

          <!-- הודעת סטטוס/תיאור -->
          <input type="hidden" name="note" id="postNote" value="">
        </form>
      </div>

      <!-- צד ימין: תצוגת הטיימר -->
      <div class="col-12 col-lg-4">
        <div class="status-card text-center" id="timerCard">
          <h3 class="h6 mb-2">טיימר</h3>

          <!-- אינדיקציה ויזואלית עם אנימציה (מופיעה בזמן טיול פעיל) -->
          <div class="walk-indicator" id="walkIndicator" style="display:none;">
            <span class="pulse-dot"></span>
            <span class="small text-muted">טיול פעיל</span>
          </div>

          <!-- הצגת זמן הטיול, מתעדכן כל שנייה ב-JavaScript -->
          <p class="display-6 m-0" id="walkTimer">00:00</p>

          <!-- טקסט המציג את מצב הטיול -->
          <p class="small text-muted mt-2 mb-0" id="walkState">
            הטיול עדיין לא התחיל
          </p>
        </div>
      </div>

    </div>
  </section>

  <!-- אזור בחירת מטרה לטיול -->
    <section class="mt-4">
    <div class="row g-3 align-items-stretch">

      <!-- מטרה -->
      <article class="col-12 col-md-6 col-lg-4">
        <div class="status-card h-100">
          <h3 class="h6">מטרה</h3>
          <p class="small text-muted mb-2">בחירת מטרה (אופציונלי)</p>

          <select class="form-select" id="walkGoal">
            <option value="">בחר/י...</option>
            <option value="short">קצר</option>
            <option value="normal">רגיל</option>
            <option value="long">ארוך</option>
          </select>
        </div>
      </article>

      <!-- וידאו -->
      <article class="col-12 col-md-6 col-lg-8">
        <div class="status-card h-100">
          <h3 class="h6 mb-2">הדגמת טיול</h3>
          <p class="small text-muted mb-2">וידאו לדוגמה</p>

          <video
            controls
            style="
              width:100%;
              max-height:180px;
              object-fit:cover;
              border-radius:12px;
            ">
            <source src="../images/video.mp4" type="video/mp4">
            הדפדפן שלך לא תומך בוידאו.
          </video>
        </div>
      </article>

    </div>
  </section>


</main>

<!-- Footer תחתון -->
<footer class="site-footer mt-4">
  <div class="container py-3 d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2">
    <p class="m-0 small">© 2025 DogCare</p>
  </div>
</footer>

<!-- קובץ JavaScript חיצוני (הקובץ נמצא בתיקיית js) -->
<script src="start_walk.js"></script>

</body>
</html>


